# Envoy Release v1.34.0

[release note](https://www.envoyproxy.io/docs/envoy/latest/version_history/v1.34/v1.34.0)

## minor_behavior_changes

**category**   : minor_behavior_changes  
**area**       : geoip  
**summary**    : Geoip isp and is apple private relay (#38714)  
**commit**     : [9fd886cbdda6cf47193e078c6311f02bc397cebd](https://github.com/envoyproxy/envoy/commit/9fd886cbdda6cf47193e078c6311f02bc397cebd)  
**pr**         : [38714](https://github.com/envoyproxy/envoy/pull/38714)  
**description**:  
The ``isp_db_path`` has been renamed to ``asn_db_path`` to keep the name consistent with the code behavior. The fields ``anon_db_path`` and ``city_db_path`` have been renamed to ``anon_db_path`` and ``city_db_path`` respectively. The field ``isp_db_path`` has been added to the ``MaxMindConfig`` to allow specifying the path to the ISP database.   
 
---

**category**   : minor_behavior_changes  
**area**       : http2  
**summary**    : http2: enables `envoy.reloadable_features.http2_use_oghttp2` by default (#38026)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [3f3624f4ddcc1d44e2c21a4825b4a6ce6b2b3680](https://github.com/envoyproxy/envoy/commit/3f3624f4ddcc1d44e2c21a4825b4a6ce6b2b3680) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38026](https://github.com/envoyproxy/envoy/pull/38026) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Sets runtime guard ``envoy.reloadable_features.http2_use_oghttp2`` to ``true`` by default.   
 
---

**category**   : minor_behavior_changes  
**area**       : dfp  
**summary**    : dfp: Add a feature to disable DNS query timeout (#38067)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [e3246a555ad2b5b25139362deb8f5a35ba1682fe](https://github.com/envoyproxy/envoy/commit/e3246a555ad2b5b25139362deb8f5a35ba1682fe) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38067](https://github.com/envoyproxy/envoy/pull/38067) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Setting [dns_query_timeout](/docs/envoy/latest/api-v3/extensions/common/dynamic_forward_proxy/v3/dns_cache.proto#envoy-v3-api-field-extensions-common-dynamic-forward-proxy-v3-dnscacheconfig-dns-query-timeout) to 0 will disable the Envoy DNS query timeout and use the underlying DNS implementation timeout.   
 
---

**category**   : minor_behavior_changes  
**area**       : ext_proc  
**summary**    : ext_proc: least surprise behavior for DEFAULT in mode_override. (#38254)  
**commit**     : [725a25b95b516577432e1b3d3401f773e976bbe0](https://github.com/envoyproxy/envoy/commit/725a25b95b516577432e1b3d3401f773e976bbe0)  
**pr**         : [38254](https://github.com/envoyproxy/envoy/pull/38254)  
**description**:  
When [mode_override](/docs/envoy/latest/api-v3/service/ext_proc/v3/external_processor.proto#envoy-v3-api-field-service-ext-proc-v3-processingresponse-mode-override) headers/trailers modes have the value ``DEFAULT`` (unset), no change will be made to the processing mode set in the filter configuration.   
 
---

**category**   : minor_behavior_changes  
**area**       : ext_proc  
**summary**    : ignore request_header_mode in mode override comparison (#38393)  
**commit**     : [504f5b01d0f123013fd6cb202382f1e3aa4cf2e7](https://github.com/envoyproxy/envoy/commit/504f5b01d0f123013fd6cb202382f1e3aa4cf2e7)  
**pr**         : [38393](https://github.com/envoyproxy/envoy/pull/38393)  
**description**:  
Ignore request_header_mode field of [mode_override](/docs/envoy/latest/api-v3/service/ext_proc/v3/external_processor.proto#envoy-v3-api-field-service-ext-proc-v3-processingresponse-mode-override) when comparing the mode_override against allowed_override_modes as request_header mode override is not applicable.   
 
---

**category**   : minor_behavior_changes  
**area**       : cel  
**summary**    : cel: support extension regex functions (#38401)  
**summary**    : changelog: fix typos in the current changelogs (#38805)  
**commit**     : [7cffa39703f616931003f442e639e9ccc7282250](https://github.com/envoyproxy/envoy/commit/7cffa39703f616931003f442e639e9ccc7282250) [cbe30300401601cd78c4d3183c2f6f301757c497](https://github.com/envoyproxy/envoy/commit/cbe30300401601cd78c4d3183c2f6f301757c497)  
**pr**         : [38401](https://github.com/envoyproxy/envoy/pull/38401) [38805](https://github.com/envoyproxy/envoy/pull/38805)  
**description**:  
Support extension regex functions (e.g. ``re.extract``, ``re.capture``, ``re.captureN``) in CEL.   
 
---

**category**   : minor_behavior_changes  
**area**       : http  
**summary**    : feat(request_id): set request id when it's set but empty (#38474)  
**commit**     : [4c77c6e9f16383e12e35d4f21579acb4410a2a5f](https://github.com/envoyproxy/envoy/commit/4c77c6e9f16383e12e35d4f21579acb4410a2a5f)  
**pr**         : [38474](https://github.com/envoyproxy/envoy/pull/38474)  
**description**:  
[generate_request_id](/docs/envoy/latest/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto#envoy-v3-api-field-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-generate-request-id) will generate a request id on non-present and now on empty ``x-request-id`` header.   
 
---

**category**   : minor_behavior_changes  
**area**       : aws  
**summary**    : aws: async handling for aws_request_signing and aws_lambda extensions (#38360)  
**commit**     : [240e45a54779df6f515d9cb065868b499a6fa70e](https://github.com/envoyproxy/envoy/commit/240e45a54779df6f515d9cb065868b499a6fa70e)  
**pr**         : [38360](https://github.com/envoyproxy/envoy/pull/38360)  
**description**:  
AWS request signing and AWS Lambda extensions will now no longer return empty credentials (and fail to sign) when credentials are still pending from the async credential providers. If all providers are unable to retrieve credentials then the original behaviour with a signing failure will occur.   
 
---

**category**   : minor_behavior_changes  
**area**       : string_matcher  
**summary**    : string matcher: add optional context (#38924)  
**commit**     : [d164a21e8ed5c30a1da528a09c7e535a725e94de](https://github.com/envoyproxy/envoy/commit/d164a21e8ed5c30a1da528a09c7e535a725e94de)  
**pr**         : [38924](https://github.com/envoyproxy/envoy/pull/38924)  
**description**:  
The string matcher API extended with another method that allows passing a context for the matching operation. The initial supporting use case is passing ``StreamInfo`` in the context when performing SAN matching.   
 
---

**category**   : minor_behavior_changes  
**area**       : formatter  
**summary**    : formatter: make the CEL and METADATA as built in formatter (#38740)  
**commit**     : [59a14b1dcb532b23a5566173009e06d02892c1a9](https://github.com/envoyproxy/envoy/commit/59a14b1dcb532b23a5566173009e06d02892c1a9)  
**pr**         : [38740](https://github.com/envoyproxy/envoy/pull/38740)  
**description**:  
The formatter ``%CEL%`` and ``%METADATA%`` will be treated as built-in formatters and could be used directly in the substitution format string if the related extensions are linked.   
 
---

**category**   : minor_behavior_changes  
**area**       : formatter  
**summary**    : formatter: allow whitespaces in %RESPONSE_CODE_DETAILS% (#38942)  
**commit**     : [9faa0a3c19018bd23985d1e0aaa94cd5546c9c35](https://github.com/envoyproxy/envoy/commit/9faa0a3c19018bd23985d1e0aaa94cd5546c9c35)  
**pr**         : [38942](https://github.com/envoyproxy/envoy/pull/38942)  
**description**:  
The formatter ``%RESPONSE_CODE_DETAILS%`` takes an optional parameter ``ALLOW_WHITESPACES`` to allow whitespaces in output string. By default all whitespaces will be replaced by underscore.   
 
---

**category**   : minor_behavior_changes  
**area**       : oauth2  
**summary**    : OAuth2:  PKCE(Proof Key for Code Exchange) (#37849)  
**commit**     : [06792771643ea09ac829b1a968147700c501f602](https://github.com/envoyproxy/envoy/commit/06792771643ea09ac829b1a968147700c501f602)  
**pr**         : [37849](https://github.com/envoyproxy/envoy/pull/37849)  
**description**:  
Introduced PKCE(Proof Key for Code Exchange) support for OAuth2 authorization code flow.   
 
---

**category**   : minor_behavior_changes  
**area**       : golang  
**summary**    : Golang: a bit of house keeping (#38766)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [76a294abce9a9d6e81934d4ff185a438b49f217a](https://github.com/envoyproxy/envoy/commit/76a294abce9a9d6e81934d4ff185a438b49f217a) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38766](https://github.com/envoyproxy/envoy/pull/38766) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Align all loggers to use golang component Id. Improve ``sendLocalReply`` by using go memory pinning instead of string copy.   
 
---

**category**   : minor_behavior_changes  
**area**       : tls  
**summary**    : fips: update boringssl to use the main branch (#39017)  
**commit**     : [e451caf9609b11418ec67f9d29b109e7a966a22c](https://github.com/envoyproxy/envoy/commit/e451caf9609b11418ec67f9d29b109e7a966a22c)  
**pr**         : [39017](https://github.com/envoyproxy/envoy/pull/39017)  
**description**:  
FIPS build is updated to use the same version of boringssl as the regular build, per the revised FedRAMP policy.   
 
---

**category**   : minor_behavior_changes  
**area**       : tls  
**summary**    : fips: add compliance policy to TLS context (#39056)  
**commit**     : [e3456e6084e842d71ff9f8d874423767b2473310](https://github.com/envoyproxy/envoy/commit/e3456e6084e842d71ff9f8d874423767b2473310)  
**pr**         : [39056](https://github.com/envoyproxy/envoy/pull/39056)  
**description**:  
Added [compliance]() TLS parameter to enforce restrictions based on a given policy (e.g. FIPS).   
 
---

## bug_fixes

**category**   : bug_fixes  
**area**       : dfp  
**summary**    : dfp: Fail on empty host header (#37989)  
**summary**    : changelogs: Add missing | in the changelogs (#38319)  
**commit**     : [65f0108a5b540997f1047925dda651e4cf67b08c](https://github.com/envoyproxy/envoy/commit/65f0108a5b540997f1047925dda651e4cf67b08c) [cd68ddc9aad92319ffe44c402eee1a8afb0fb017](https://github.com/envoyproxy/envoy/commit/cd68ddc9aad92319ffe44c402eee1a8afb0fb017)  
**pr**         : [37989](https://github.com/envoyproxy/envoy/pull/37989) [38319](https://github.com/envoyproxy/envoy/pull/38319)  
**description**:  
Fixes a bug when loading a DNS cache entry with an empty authority/host header. This fix can be reverted by setting runtime guard ``envoy.reloadable_features.dfp_fail_on_empty_host_header`` to ``false``.   
 
---

**category**   : bug_fixes  
**area**       : eds  
**summary**    : eds: add test for fix in #39083 (#39096)  
**commit**     : [8283565cffc7b713ef1b3a8b79c285c269e15db3](https://github.com/envoyproxy/envoy/commit/8283565cffc7b713ef1b3a8b79c285c269e15db3)  
**pr**         : [39096](https://github.com/envoyproxy/envoy/pull/39096)  
**description**:  
Fixed crash when creating an EDS cluster with invalid configuration.   
 
---

**category**   : bug_fixes  
**area**       : http  
**summary**    : Make balsa parser not reject newlines between requests (#38732)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [807c56fd795f4005c0ba129b76475e7a2f3d050f](https://github.com/envoyproxy/envoy/commit/807c56fd795f4005c0ba129b76475e7a2f3d050f) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38732](https://github.com/envoyproxy/envoy/pull/38732) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Fixed http parser responding to newlines between requests with ``400 Bad Request``; per RFC 9112: a server that is expecting to receive and parse a request-line SHOULD ignore at least one empty line (CRLF) received prior to the request-line. This fix can be reverted by setting runtime guard ``envoy.reloadable_features.http1_balsa_allow_cr_or_lf_at_request_start`` to ``false``.   
 
---

**category**   : bug_fixes  
**area**       : router  
**summary**    : router: fix query parameter present_match support (#38000)  
**commit**     : [2b413330c3bd958db23eca0c2c67cb2fa496046f](https://github.com/envoyproxy/envoy/commit/2b413330c3bd958db23eca0c2c67cb2fa496046f)  
**pr**         : [38000](https://github.com/envoyproxy/envoy/pull/38000)  
**description**:  
Fixed query parameter matcher to properly implement [present_match](/docs/envoy/latest/api-v3/config/route/v3/route_components.proto#envoy-v3-api-field-config-route-v3-queryparametermatcher-present-match). Previously, the matcher would incorrectly handle ``present_match`` configurations by treating them as default present checks. This behavior can be temporarily reverted by setting runtime feature ``envoy_reloadable_features_enable_new_query_param_present_match_behavior`` to ``false``.   
 
---

**category**   : bug_fixes  
**area**       : tcp_proxy  
**summary**    : support backoff between retries in tcp_proxy (#37709)  
**summary**    : changelogs: Add missing | in the changelogs (#38319)  
**commit**     : [7fa09db1c8cb5e99dc3808d69e7d83276aa9e240](https://github.com/envoyproxy/envoy/commit/7fa09db1c8cb5e99dc3808d69e7d83276aa9e240) [cd68ddc9aad92319ffe44c402eee1a8afb0fb017](https://github.com/envoyproxy/envoy/commit/cd68ddc9aad92319ffe44c402eee1a8afb0fb017)  
**pr**         : [37709](https://github.com/envoyproxy/envoy/pull/37709) [38319](https://github.com/envoyproxy/envoy/pull/38319)  
**description**:  
Fixes a bug when TCP is tunneled over HTTP and upstream connection closed before response headers received to the stream. The fix is to run the retry logic in a different event loop iteration to allow cleanup of the closed connection before retrying. This fix can be reverted by setting runtime guard ``envoy.reloadable_features.tcp_proxy_retry_on_different_event_loop`` to ``false``.   
 
---

**category**   : bug_fixes  
**area**       : oauth2  
**summary**    : fix(credential_injector/oauth2): send scopes when specified (#38130)  
**summary**    : changelog: fix typos in the current changelogs (#38207)  
**commit**     : [38a7619e5c5d23d279e75ca1bb67a55d1e3d766f](https://github.com/envoyproxy/envoy/commit/38a7619e5c5d23d279e75ca1bb67a55d1e3d766f) [320d52ed524eab170d88df90190691b10e9ba757](https://github.com/envoyproxy/envoy/commit/320d52ed524eab170d88df90190691b10e9ba757)  
**pr**         : [38130](https://github.com/envoyproxy/envoy/pull/38130) [38207](https://github.com/envoyproxy/envoy/pull/38207)  
**description**:  
Fixed OAuth2 credential injector to send scope (if specified) to authorization server when requesting new access token using ``client_credentials`` flow.   
 
---

**category**   : bug_fixes  
**area**       : connection pool  
**summary**    : conn pool: fix preconnect math (#38708)  
**commit**     : [462b576551d826c500caf43199c1e26f81a882bc](https://github.com/envoyproxy/envoy/commit/462b576551d826c500caf43199c1e26f81a882bc)  
**pr**         : [38708](https://github.com/envoyproxy/envoy/pull/38708)  
**description**:  
Fixed a bug in [preconnecting](/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#envoy-v3-api-msg-config-cluster-v3-cluster-preconnectpolicy) where established connection unused capacity was not considered in the logic to establish new connections, resulting in new connections anytime there was not a connection currently in the process of being established. This resulted in far too many connections being established, with the only bounds being cluster circuit breaker limits or upstream service limits.   
 
---

**category**   : bug_fixes  
**area**       : ext_authz  
**summary**    : ext_authz: allow per-route enable (previously only disable) (#38389)  
**commit**     : [8f6b405d32f3f908000771627a38712455c861bf](https://github.com/envoyproxy/envoy/commit/8f6b405d32f3f908000771627a38712455c861bf)  
**pr**         : [38389](https://github.com/envoyproxy/envoy/pull/38389)  
**description**:  
Removed validation constraint on [disabled](/docs/envoy/latest/api-v3/extensions/filters/http/ext_authz/v3/ext_authz.proto#envoy-v3-api-field-extensions-filters-http-ext-authz-v3-extauthzperroute-disabled) so that it can be set to false to enable the filter when it is  by [default]().   
 
---

**category**   : bug_fixes  
**area**       : original_src filter  
**summary**    : original_src: Fix ephemeral port exhaustion by setting IP_BIND_ADDRESS_NO_PORT (#38288)  
**summary**    : changelog: fix typos in the current changelogs (#38805)  
**commit**     : [b8ef4ca4f710ab424a228ff7d68eb90171758d51](https://github.com/envoyproxy/envoy/commit/b8ef4ca4f710ab424a228ff7d68eb90171758d51) [cbe30300401601cd78c4d3183c2f6f301757c497](https://github.com/envoyproxy/envoy/commit/cbe30300401601cd78c4d3183c2f6f301757c497)  
**pr**         : [38288](https://github.com/envoyproxy/envoy/pull/38288) [38805](https://github.com/envoyproxy/envoy/pull/38805)  
**description**:  
Set ``IP_BIND_ADDRESS_NO_PORT`` socket option in the [original_src]() to prevent port exhaustion caused by the kernel prematurely reserving ephemeral ports. This behavior change can be reverted by setting runtime guard ``envoy.reloadable_features.original_src_fix_port_exhaustion`` to ``false``.   
 
---

**category**   : bug_fixes  
**area**       : redis  
**summary**    : redis: Fix a crash bug in Redis cluster on empty DNS response (#38710)  
**commit**     : [2b3c482f1a9d5788228f5ed71be45daef275a72e](https://github.com/envoyproxy/envoy/commit/2b3c482f1a9d5788228f5ed71be45daef275a72e)  
**pr**         : [38710](https://github.com/envoyproxy/envoy/pull/38710)  
**description**:  
Fixed a crash bug when the DNS resolution status is completed, but the response is empty.   
 
---

**category**   : bug_fixes  
**area**       : listener  
**summary**    : bugfix/listener: apply socket options on additional address (#38409)  
**commit**     : [ced3dccfab91481ef9a1236ac7d509c673d794c5](https://github.com/envoyproxy/envoy/commit/ced3dccfab91481ef9a1236ac7d509c673d794c5)  
**pr**         : [38409](https://github.com/envoyproxy/envoy/pull/38409)  
**description**:  
Fixed a bug where socket options specified only on an additional address were not applied unless [socket_options](/docs/envoy/latest/api-v3/config/listener/v3/listener.proto#envoy-v3-api-field-config-listener-v3-additionaladdress-socket-options) on the listener is set. Now additional address [socket_options](/docs/envoy/latest/api-v3/config/listener/v3/listener.proto#envoy-v3-api-field-config-listener-v3-additionaladdress-socket-options) are correctly applied even if the listener has no socket options configured.   
 
---

**category**   : bug_fixes  
**area**       : udp  
**summary**    : udp: fix downstream_rx_datagram_dropped metric calculation (#38652)  
**summary**    : changelog: fix typos in the current changelogs (#38805)  
**commit**     : [ecf8ac865a8bc079f8b050951b7e46500a787aa6](https://github.com/envoyproxy/envoy/commit/ecf8ac865a8bc079f8b050951b7e46500a787aa6) [cbe30300401601cd78c4d3183c2f6f301757c497](https://github.com/envoyproxy/envoy/commit/cbe30300401601cd78c4d3183c2f6f301757c497)  
**pr**         : [38652](https://github.com/envoyproxy/envoy/pull/38652) [38805](https://github.com/envoyproxy/envoy/pull/38805)  
**description**:  
Fixed wrong metric calculation of ``downstream_rx_datagram_dropped``.   
 
---

**category**   : bug_fixes  
**area**       : http  
**summary**    : Jwks fetcher use scheme from uri (#37978)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [e843994beedcabba15036fdc30df19638b493f59](https://github.com/envoyproxy/envoy/commit/e843994beedcabba15036fdc30df19638b493f59) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [37978](https://github.com/envoyproxy/envoy/pull/37978) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Fixed the JWKs fetcher to set the ``:scheme`` pseudo header according to the uri (``http`` or ``https``). Before the ``:scheme`` header was always ``http``. This behavioral change can be temporarily reverted by setting runtime guard ``envoy.reloadable_features.jwt_fetcher_use_scheme_from_uri`` to ``false``.   
 
---

**category**   : bug_fixes  
**area**       : ext_proc  
**summary**    : Graceful close of ext_proc gRPC side streams (#38661)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [11bfcd6dc47975ae4f05a512ec382a91735fde73](https://github.com/envoyproxy/envoy/commit/11bfcd6dc47975ae4f05a512ec382a91735fde73) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38661](https://github.com/envoyproxy/envoy/pull/38661) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Implemented graceful close of gRPC side streams, where the client half-closes its stream and waits (with timeout) for the server to half-close its stream. This behavioral change is disabled by default and can be enabled by setting runtime guard ``envoy.reloadable_features.ext_proc_graceful_grpc_close`` to ``true``. The remote close timeout is 1 second by default and can be changed by setting the ``envoy.filters.http.ext_proc.remote_close_timeout_milliseconds`` runtime value.   
 
---

**category**   : bug_fixes  
**area**       : listener  
**summary**    : listener: fixed a bug where the addresses cannot be updated partially (#38601)  
**commit**     : [61b7b9f1745c6d6919e0e7df9814a99874ef8be8](https://github.com/envoyproxy/envoy/commit/61b7b9f1745c6d6919e0e7df9814a99874ef8be8)  
**pr**         : [38601](https://github.com/envoyproxy/envoy/pull/38601)  
**description**:  
Fixed a bug where the addresses cannot be updated partially even if the reuse port is enabled.   
 
---

**category**   : bug_fixes  
**area**       : ext_proc  
**summary**    : [ext_proc] Invoke response processors before continuing the filter chain. (#38750)  
**commit**     : [19fa1b580047cb8e36327e0d161b9d238ed7ab1d](https://github.com/envoyproxy/envoy/commit/19fa1b580047cb8e36327e0d161b9d238ed7ab1d)  
**pr**         : [38750](https://github.com/envoyproxy/envoy/pull/38750)  
**description**:  
Fixed a bug for the [extension](/docs/envoy/latest/api-v3/extensions/quic/connection_id_generator/quic_lb/v3/quic_lb.proto#envoy-v3-api-msg-extensions-quic-connection-id-generator-quic-lb-v3-config) where the [response](/docs/envoy/latest/api-v3/service/ext_proc/v3/external_processor.proto#envoy-v3-api-msg-service-ext-proc-v3-processingresponse) from the external processor was being saved to filter state after iterating through the filter chain.   
 
---

**category**   : bug_fixes  
**area**       : ext_proc  
**summary**    : Fix a bug where local replies were incorrectly sent to the ext_proc (#38818)  
**commit**     : [8eda1b8ef5ba8663d16a737ab99458c039a9b53c](https://github.com/envoyproxy/envoy/commit/8eda1b8ef5ba8663d16a737ab99458c039a9b53c)  
**pr**         : [38818](https://github.com/envoyproxy/envoy/pull/38818)  
**description**:  
Fixes a bug where local replies were incorrectly sent to the ext_proc server for external processing. This change can be temporarily reverted by setting runtime guard ``envoy_reloadable_features_skip_ext_proc_on_local_reply`` to ``false``.   
 
---

**category**   : bug_fixes  
**area**       : router  
**summary**    : Fix a bug where local replies were incorrectly sent to the ext_proc (#38818)  
**commit**     : [8eda1b8ef5ba8663d16a737ab99458c039a9b53c](https://github.com/envoyproxy/envoy/commit/8eda1b8ef5ba8663d16a737ab99458c039a9b53c)  
**pr**         : [38818](https://github.com/envoyproxy/envoy/pull/38818)  
**description**:  
Fixes an Envoy crash issue when a local reply is sent. This change can be temporarily reverted by setting runtime guard ``envoy_reloadable_features_router_filter_resetall_on_local_reply`` to ``false``.   
 
---

**category**   : bug_fixes  
**area**       : quic  
**summary**    : Strip empty cookie header for HTTP/3 (in consistency with HTTP/2). (#38897)  
**commit**     : [c317c503275ca975945fce5762e13b0930c4886f](https://github.com/envoyproxy/envoy/commit/c317c503275ca975945fce5762e13b0930c4886f)  
**pr**         : [38897](https://github.com/envoyproxy/envoy/pull/38897)  
**description**:  
Strips empty cookie header, making HTTP2 and HTTP3 consistent. This change can be temporarily reverted by setting runtime guard ``envoy.reloadable_features.http3_remove_empty_cookie`` to ``false``.   
 
---

**category**   : bug_fixes  
**area**       : wasm  
**summary**    : wasm: fix possible crash when resetting context after vm panic (#38865)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [916b150d55b42d84e62472c34301ad1c99170260](https://github.com/envoyproxy/envoy/commit/916b150d55b42d84e62472c34301ad1c99170260) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38865](https://github.com/envoyproxy/envoy/pull/38865) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Fixed a bug where the WASM context deletion may result in a crash when the VM is panicked.   
 
---

**category**   : bug_fixes  
**area**       : sds  
**summary**    : sds: fix watching generic secret files  (#38803)  
**commit**     : [c04d434f13d02ca8b12bfdad4e1e3bb36197a3f4](https://github.com/envoyproxy/envoy/commit/c04d434f13d02ca8b12bfdad4e1e3bb36197a3f4)  
**pr**         : [38803](https://github.com/envoyproxy/envoy/pull/38803)  
**description**:  
Fixed a bug where a [GenericSecret](/docs/envoy/latest/api-v3/extensions/transport_sockets/tls/v3/secret.proto#envoy-v3-api-msg-extensions-transport-sockets-tls-v3-genericsecret) stored in a file was not watched by SDS API.   
 
---

**category**   : bug_fixes  
**area**       : url_template  
**summary**    : uri_template: Add support for the * character matching in pattern rewrite and matching  
**commit**     : [6aa49a935786766b3e7edc15d2c189f6395fe25e](https://github.com/envoyproxy/envoy/commit/6aa49a935786766b3e7edc15d2c189f6395fe25e)  
**pr**         :  
**description**:  
Included the asterisk ``*`` in the match pattern when using the * or ** operators in the URL template. This behavioral change can be temporarily reverted by setting runtime guard ``envoy.reloadable_features.uri_template_match_on_asterisk`` to ``false``.   
 
---

## removed_config_or_runtime

**category**   : removed_config_or_runtime  
**area**       : http  
**summary**    : runtime: deprecating sanitize_http2_headers_without_nghttp2 (#38123)  
**summary**    : runtime: deprecating consistent_header_validation (#38137)  
**commit**     : [0ee6aa5c8fc16e9dd347e6e04e63562e14ec3952](https://github.com/envoyproxy/envoy/commit/0ee6aa5c8fc16e9dd347e6e04e63562e14ec3952) [dd2f3b96c800b27878d95e61635036ab947861c8](https://github.com/envoyproxy/envoy/commit/dd2f3b96c800b27878d95e61635036ab947861c8)  
**pr**         : [38123](https://github.com/envoyproxy/envoy/pull/38123) [38137](https://github.com/envoyproxy/envoy/pull/38137)  
**description**:  
Removed runtime guard ``envoy.reloadable_features.consistent_header_validation`` and legacy code paths.   
 
---

**category**   : removed_config_or_runtime  
**area**       : http  
**summary**    : runtime: deprecating consistent_header_validation (#38137)  
**summary**    : runtime: deprecating sanitize_http2_headers_without_nghttp2 (#38123)  
**commit**     : [dd2f3b96c800b27878d95e61635036ab947861c8](https://github.com/envoyproxy/envoy/commit/dd2f3b96c800b27878d95e61635036ab947861c8) [0ee6aa5c8fc16e9dd347e6e04e63562e14ec3952](https://github.com/envoyproxy/envoy/commit/0ee6aa5c8fc16e9dd347e6e04e63562e14ec3952)  
**pr**         : [38137](https://github.com/envoyproxy/envoy/pull/38137) [38123](https://github.com/envoyproxy/envoy/pull/38123)  
**description**:  
Removed runtime guard ``envoy.reloadable_features.sanitize_http2_headers_without_nghttp2`` and legacy code paths.   
 
---

**category**   : removed_config_or_runtime  
**area**       : access_log  
**summary**    : runtime: remove upstream_remote_address_use_connection runtime guard (#38070)  
**commit**     : [78fcde4829d895d89346c1af29777c1fedcd3180](https://github.com/envoyproxy/envoy/commit/78fcde4829d895d89346c1af29777c1fedcd3180)  
**pr**         : [38070](https://github.com/envoyproxy/envoy/pull/38070)  
**description**:  
Removed runtime guard ``envoy.reloadable_features.upstream_remote_address_use_connection`` and legacy code paths.   
 
---

**category**   : removed_config_or_runtime  
**area**       : xds  
**summary**    : xds: deprecate envoy.reloadable_features.xdstp_path_avoid_colon_encoding (#38121)  
**commit**     : [fbd8c05d3e120e4de5697602628bc2f2c37fcd28](https://github.com/envoyproxy/envoy/commit/fbd8c05d3e120e4de5697602628bc2f2c37fcd28)  
**pr**         : [38121](https://github.com/envoyproxy/envoy/pull/38121)  
**description**:  
Removed runtime guard ``envoy.reloadable_features.xdstp_path_avoid_colon_encoding`` and legacy code paths.   
 
---

**category**   : removed_config_or_runtime  
**area**       : config  
**summary**    : config: deprecate envoy.reloadable_features.strict_duration_validation and remove it (#38407)  
**commit**     : [2b65c2215b2954511290d078841ccd73a733f3da](https://github.com/envoyproxy/envoy/commit/2b65c2215b2954511290d078841ccd73a733f3da)  
**pr**         : [38407](https://github.com/envoyproxy/envoy/pull/38407)  
**description**:  
Removed runtime guard ``envoy.reloadable_features.strict_duration_validation`` and legacy code paths.   
 
---

**category**   : removed_config_or_runtime  
**area**       : thread_local  
**summary**    : runtime: remove allow_slot_destroy_on_worker_threads runtime guard (#38071)  
**commit**     : [8ed2dc503b8f665345f013645e690a714a8f8036](https://github.com/envoyproxy/envoy/commit/8ed2dc503b8f665345f013645e690a714a8f8036)  
**pr**         : [38071](https://github.com/envoyproxy/envoy/pull/38071)  
**description**:  
Removed runtime guard  ``envoy.reloadable_features.allow_slot_destroy_on_worker_threads`` and legacy code paths.   
 
---

**category**   : removed_config_or_runtime  
**area**       : runtime  
**summary**    : runtime: deprecating legacy yaml (#38122)  
**commit**     : [372f8321070911ca8974abfaa1f3b63f2b703fe2](https://github.com/envoyproxy/envoy/commit/372f8321070911ca8974abfaa1f3b63f2b703fe2)  
**pr**         : [38122](https://github.com/envoyproxy/envoy/pull/38122)  
**description**:  
Removed runtime flag ``envoy.reloadable_features.reject_invalid_yaml`` and legacy code paths.   
 
---

**category**   : removed_config_or_runtime  
**area**       : dns  
**summary**    : runtime: deprecating dns_details (#38059)  
**commit**     : [7e84e42b05c475aa30b1c52859f08d739917b7ce](https://github.com/envoyproxy/envoy/commit/7e84e42b05c475aa30b1c52859f08d739917b7ce)  
**pr**         : [38059](https://github.com/envoyproxy/envoy/pull/38059)  
**description**:  
Removed runtime flag ``envoy.reloadable_features.dns_details`` and legacy code paths.   
 
---

**category**   : removed_config_or_runtime  
**area**       : local_ratelimit  
**summary**    : runtime: local ratelimit: remove deprecated timer based token bucket (#38197)  
**commit**     : [e15295f2319133a0fd4b1df0ca94868fd378a9bb](https://github.com/envoyproxy/envoy/commit/e15295f2319133a0fd4b1df0ca94868fd378a9bb)  
**pr**         : [38197](https://github.com/envoyproxy/envoy/pull/38197)  
**description**:  
Removed runtime guard ``envoy.reloadable_features.no_timer_based_rate_limit_token_bucket`` and legacy code paths.   
 
---

**category**   : removed_config_or_runtime  
**area**       : dns  
**summary**    : runtime: Remove dns_nodata_noname_is_success and legacy code paths (#38641)  
**commit**     : [29301f00a5b330bee8f621e24fb56b8e7dd7b223](https://github.com/envoyproxy/envoy/commit/29301f00a5b330bee8f621e24fb56b8e7dd7b223)  
**pr**         : [38641](https://github.com/envoyproxy/envoy/pull/38641)  
**description**:  
Removed runtime guard ``envoy.reloadable_features.dns_nodata_noname_is_success`` and legacy code paths.   
 
---

## new_features

**category**   : new_features  
**area**       : geoip  
**summary**    : Geoip isp and is apple private relay (#38714)  
**commit**     : [9fd886cbdda6cf47193e078c6311f02bc397cebd](https://github.com/envoyproxy/envoy/commit/9fd886cbdda6cf47193e078c6311f02bc397cebd)  
**pr**         : [38714](https://github.com/envoyproxy/envoy/pull/38714)  
**description**:  
Added options on the geoip filter ``envoy.extensions.geoip_providers.common.v3.CommonGeoipProviderConfig.isp`` that contains the isp name and ``envoy.extensions.geoip_providers.common.v3.CommonGeoipProviderConfig.apple_private_relay`` that has ``true`` or ``false`` depending if the isp name is ``iCloud Private Relay``.   
 
---

**category**   : new_features  
**area**       : http  
**summary**    : http: making the lua filter a dual filter (#38465)  
**summary**    : http: configurable ignore of HTTP/1.1 upgrades (#37642)  
**commit**     : [3a436040804083e0396c906ad9ef026f104d3760](https://github.com/envoyproxy/envoy/commit/3a436040804083e0396c906ad9ef026f104d3760) [ad400974d8114c9f2da6d96a4acf92e6601d5561](https://github.com/envoyproxy/envoy/commit/ad400974d8114c9f2da6d96a4acf92e6601d5561)  
**pr**         : [38465](https://github.com/envoyproxy/envoy/pull/38465) [37642](https://github.com/envoyproxy/envoy/pull/37642)  
**description**:  
Added [ignore_http_11_upgrade](/docs/envoy/latest/api-v3/config/core/v3/protocol.proto#envoy-v3-api-field-config-core-v3-http1protocoloptions-ignore-http-11-upgrade) to ignore HTTP/1.1 Upgrade values matching any of the supplied matchers.   
 
---

**category**   : new_features  
**area**       : http  
**summary**    : http: configurable ignore of HTTP/1.1 upgrades (#37642)  
**summary**    : http: making the lua filter a dual filter (#38465)  
**commit**     : [ad400974d8114c9f2da6d96a4acf92e6601d5561](https://github.com/envoyproxy/envoy/commit/ad400974d8114c9f2da6d96a4acf92e6601d5561) [3a436040804083e0396c906ad9ef026f104d3760](https://github.com/envoyproxy/envoy/commit/3a436040804083e0396c906ad9ef026f104d3760)  
**pr**         : [37642](https://github.com/envoyproxy/envoy/pull/37642) [38465](https://github.com/envoyproxy/envoy/pull/38465)  
**description**:  
Made the [lua](/docs/envoy/latest/api-v3/extensions/filters/http/lua/v3/lua.proto#envoy-v3-api-msg-extensions-filters-http-lua-v3-lua) work as an upstream filter.   
 
---

**category**   : new_features  
**area**       : http  
**summary**    : route match: add filter state (#38842)  
**commit**     : [8ed93ef372f788456b708fc93a7e54e17a013aa7](https://github.com/envoyproxy/envoy/commit/8ed93ef372f788456b708fc93a7e54e17a013aa7)  
**pr**         : [38842](https://github.com/envoyproxy/envoy/pull/38842)  
**description**:  
Added filter state matcher for router matcher.   
 
---

**category**   : new_features  
**area**       : dfp  
**summary**    : dfp: allowing the dfp cluster to do dns lookups (#38237)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [d21b7ed585da011d7d6b8c6091418469fa1efead](https://github.com/envoyproxy/envoy/commit/d21b7ed585da011d7d6b8c6091418469fa1efead) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38237](https://github.com/envoyproxy/envoy/pull/38237) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
The DFP cluster will now use the async lookup path to do DNS resolutions for null hosts. This behavioral change can be temporarily reverted by setting runtime guard ``envoy.reloadable_features.dfp_cluster_resolves_hosts`` to ``false``.   
 
---

**category**   : new_features  
**area**       : oauth2  
**summary**    : OAuth2: Add samesite attribute support for all OAuth2 supported cookie types (#37952)  
**summary**    : changelog: fix typos in the current changelogs (#38207)  
**commit**     : [d76115f5eaaa1ee4756d2542762049e1ad1a149e](https://github.com/envoyproxy/envoy/commit/d76115f5eaaa1ee4756d2542762049e1ad1a149e) [320d52ed524eab170d88df90190691b10e9ba757](https://github.com/envoyproxy/envoy/commit/320d52ed524eab170d88df90190691b10e9ba757)  
**pr**         : [37952](https://github.com/envoyproxy/envoy/pull/37952) [38207](https://github.com/envoyproxy/envoy/pull/38207)  
**description**:  
Add the option to specify SameSite cookie attribute values for oauth2 supported cookies. To specify ``SameSite`` attribute, choose one of the values from ``strict``, ``lax`` or ``none``. If not specified, a default value of ``disabled`` will be assigned and there will be no ``SameSite`` value in the cookie attribute. See [apply_on_stream_done](/docs/envoy/latest/api-v3/extensions/filters/http/oauth2/v3/oauth.proto#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2config-cookie-configs) for more details.   
 
---

**category**   : new_features  
**area**       : spiffe  
**summary**    : spiffe: add support for spiffe bundle format (#36190)  
**summary**    : changelog: fix typos in the current changelogs (#38207)  
**commit**     : [c60d428b3d0ed568a96d30f4c91f77843a308c19](https://github.com/envoyproxy/envoy/commit/c60d428b3d0ed568a96d30f4c91f77843a308c19) [320d52ed524eab170d88df90190691b10e9ba757](https://github.com/envoyproxy/envoy/commit/320d52ed524eab170d88df90190691b10e9ba757)  
**pr**         : [36190](https://github.com/envoyproxy/envoy/pull/36190) [38207](https://github.com/envoyproxy/envoy/pull/38207)  
**description**:  
Added [trust_bundles](/docs/envoy/latest/api-v3/extensions/transport_sockets/tls/v3/tls_spiffe_validator_config.proto#envoy-v3-api-field-extensions-transport-sockets-tls-v3-spiffecertvalidatorconfig-trust-bundles) to the SPIFFE certificate validator configuration. This field allows specifying a SPIFFE trust bundle mapping as a ``DataSource``. If both ``trust_bundles`` and ``trust_domains`` are specified, ``trust_bundles`` takes precedence.   
 
---

**category**   : new_features  
**area**       : resource_monitors  
**summary**    : Add support for Container CPU Utilization Resource Monitor (#37792)  
**summary**    : changelog: fix typos in the current changelogs (#38207)  
**commit**     : [020871ba10a301557191f5c4b1faa6671e1726ec](https://github.com/envoyproxy/envoy/commit/020871ba10a301557191f5c4b1faa6671e1726ec) [320d52ed524eab170d88df90190691b10e9ba757](https://github.com/envoyproxy/envoy/commit/320d52ed524eab170d88df90190691b10e9ba757)  
**pr**         : [37792](https://github.com/envoyproxy/envoy/pull/37792) [38207](https://github.com/envoyproxy/envoy/pull/38207)  
**description**:  
Added support to monitor container CPU utilization in Linux K8s environment using [existing]().   
 
---

**category**   : new_features  
**area**       : rbac  
**summary**    : rbac: add better rule type for mTLS (#38388)  
**commit**     : [737efd331cce18b172a2f0241638d810ee73d604](https://github.com/envoyproxy/envoy/commit/737efd331cce18b172a2f0241638d810ee73d604)  
**pr**         : [38388](https://github.com/envoyproxy/envoy/pull/38388)  
**description**:  
Added a new [principal]() for validating mTLS with more specific matches and better default behavior. Also added an extension point for [custom](/docs/envoy/latest/api-v3/config/rbac/v3/rbac.proto#envoy-v3-api-field-config-rbac-v3-principal-custom) principals.   
 
---

**category**   : new_features  
**area**       : lua  
**summary**    : lua: add new function to get the name of the matched virtual cluster (#37971)  
**commit**     : [9a04f4c96372b222cd8366aca9f7ebf6122c653a](https://github.com/envoyproxy/envoy/commit/9a04f4c96372b222cd8366aca9f7ebf6122c653a)  
**pr**         : [37971](https://github.com/envoyproxy/envoy/pull/37971)  
**description**:  
Added [virtualClusterName]() API to the Stream Info Object to get the name of the virtual cluster matched.   
 
---

**category**   : new_features  
**area**       : tap  
**summary**    : http/transport tap: Add a new UDP sink (#37172)  
**commit**     : [1b5740a76ba69851efa0b1397b8f41b9e60c8d80](https://github.com/envoyproxy/envoy/commit/1b5740a76ba69851efa0b1397b8f41b9e60c8d80)  
**pr**         : [37172](https://github.com/envoyproxy/envoy/pull/37172)  
**description**:  
Added an UDP extension for tap custom sink.   
 
---

**category**   : new_features  
**area**       : tansport tap  
**summary**    : Enhancement for Transport Tap: output connection information per event per configuration (#38662)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [a8f78e6c120decd989477a215350a6c419c2fb55](https://github.com/envoyproxy/envoy/commit/a8f78e6c120decd989477a215350a6c419c2fb55) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38662](https://github.com/envoyproxy/envoy/pull/38662) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Added support to control outputing the connection information per event and refer to ``set_connection_per_event`` in the message ``SocketTapConfig`` of transport socket tap.   
 
---

**category**   : new_features  
**area**       : udp_proxy  
**summary**    : udp_proxy: support outlier detection in http tunneling (#37945)  
**commit**     : [7ab73d0da3aa8b7a2e767c9809d527e7cf031d89](https://github.com/envoyproxy/envoy/commit/7ab73d0da3aa8b7a2e767c9809d527e7cf031d89)  
**pr**         : [37945](https://github.com/envoyproxy/envoy/pull/37945)  
**description**:  
Added support for outlier detection in UDP proxy. This change can be temporarily reverted by setting runtime guard ``envoy.reloadable_features.enable_udp_proxy_outlier_detection`` to ``false``.   
 
---

**category**   : new_features  
**area**       : admin  
**summary**    : feat: inbound only graceful draining (#38430)  
**summary**    : changelog: fix typos in the current changelogs (#38805)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [c53f9175ee728327e7e47848bc19a55b39cdb322](https://github.com/envoyproxy/envoy/commit/c53f9175ee728327e7e47848bc19a55b39cdb322) [cbe30300401601cd78c4d3183c2f6f301757c497](https://github.com/envoyproxy/envoy/commit/cbe30300401601cd78c4d3183c2f6f301757c497) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38430](https://github.com/envoyproxy/envoy/pull/38430) [38805](https://github.com/envoyproxy/envoy/pull/38805) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Add support for the ``inbound_only`` and graceful query params of ``/drain_listeners`` to be used together by implementing directional draining in ``DrainManager``.   
 
---

**category**   : new_features  
**area**       : http  
**summary**    : async host selection (#38007)  
**summary**    : changelog: fix typos in the current changelogs (#38207)  
**commit**     : [a2a3cda4f0ee8a9bfdf3aef68dd9a89c877cec63](https://github.com/envoyproxy/envoy/commit/a2a3cda4f0ee8a9bfdf3aef68dd9a89c877cec63) [320d52ed524eab170d88df90190691b10e9ba757](https://github.com/envoyproxy/envoy/commit/320d52ed524eab170d88df90190691b10e9ba757)  
**pr**         : [38007](https://github.com/envoyproxy/envoy/pull/38007) [38207](https://github.com/envoyproxy/envoy/pull/38207)  
**description**:  
Added alpha support for asynchronous load balancing. See [load]() for more details. Support can be temporarily reverted by setting runtime guard ``envoy.reloadable_features.async_host_selection`` to ``false``.   
 
---

**category**   : new_features  
**area**       : quic  
**summary**    : quic: add quic-lb connection id generator (#38390)  
**commit**     : [e7a66bf62278a39dec5f23e36392d15282a4afb2](https://github.com/envoyproxy/envoy/commit/e7a66bf62278a39dec5f23e36392d15282a4afb2)  
**pr**         : [38390](https://github.com/envoyproxy/envoy/pull/38390)  
**description**:  
Added an [extension](/docs/envoy/latest/api-v3/extensions/quic/connection_id_generator/quic_lb/v3/quic_lb.proto#envoy-v3-api-msg-extensions-quic-connection-id-generator-quic-lb-v3-config) to support QUIC-LB draft standard for connection ID generation.   
 
---

**category**   : new_features  
**area**       : ext_proc  
**summary**    : Enable ext_proc MxN API (#37774)  
**summary**    : changelog: fix typos in the current changelogs (#38207)  
**commit**     : [5bd09b2c923784549e7f2e2233f44c20e8b58bcc](https://github.com/envoyproxy/envoy/commit/5bd09b2c923784549e7f2e2233f44c20e8b58bcc) [320d52ed524eab170d88df90190691b10e9ba757](https://github.com/envoyproxy/envoy/commit/320d52ed524eab170d88df90190691b10e9ba757)  
**pr**         : [37774](https://github.com/envoyproxy/envoy/pull/37774) [38207](https://github.com/envoyproxy/envoy/pull/38207)  
**description**:  
Adding support for a new body mode: ``FULL_DUPLEX_STREAMED`` in the ``ext_proc`` filter [processing_mode](/docs/envoy/latest/api-v3/extensions/filters/http/ext_proc/v3/ext_proc.proto#envoy-v3-api-field-extensions-filters-http-ext-proc-v3-externalprocessor-processing-mode).   
 
---

**category**   : new_features  
**area**       : proxy_protocol  
**summary**    : upstream_proxy_protocol: Introduce custom TLV support (#37591)  
**commit**     : [90e99327ff399e21d9320d73c47bee5bec577ebc](https://github.com/envoyproxy/envoy/commit/90e99327ff399e21d9320d73c47bee5bec577ebc)  
**pr**         : [37591](https://github.com/envoyproxy/envoy/pull/37591)  
**description**:  
Added support for injecting custom Type-Length-Value (TLV) entries into the Proxy Protocol v2 header for upstream transport sockets. Custom TLVs can be defined both in the endpoint host's typed metadata under the ``envoy.transport_sockets.proxy_protocol`` namespace and at the configuration level via the ``ProxyProtocolConfig``'s ``added_tlvs`` field. Host-level TLV definitions override config-level entries when the same type is specified, allowing default TLVs to be set globally, while enabling further per-endpoint customizations.   
 
---

**category**   : new_features  
**area**       : formatter  
**summary**    : formatter: support query param (#38112)  
**commit**     : [e6e0fc9f9234e0520e2a6e2893f095a65bbf0dc6](https://github.com/envoyproxy/envoy/commit/e6e0fc9f9234e0520e2a6e2893f095a65bbf0dc6)  
**pr**         : [38112](https://github.com/envoyproxy/envoy/pull/38112)  
**description**:  
Added ``QUERY_PARAM`` support for substitution formatter. See [access]() for more details.   
 
---

**category**   : new_features  
**area**       : formatter  
**summary**    : stream info: custom flag support (#38654)  
**commit**     : [d70d877265fd54cdcc1ee62d10f875175cc9d32f](https://github.com/envoyproxy/envoy/commit/d70d877265fd54cdcc1ee62d10f875175cc9d32f)  
**pr**         : [38654](https://github.com/envoyproxy/envoy/pull/38654)  
**description**:  
Added ``CUSTOM_FLAGS`` support for substitution formatter. See [access]() for more details.   
 
---

**category**   : new_features  
**area**       : formatter  
**summary**    : formatter: added PATH support (#38761)  
**commit**     : [36071b534cd8bed5bcc5a3fa2af4c451a091ac1d](https://github.com/envoyproxy/envoy/commit/36071b534cd8bed5bcc5a3fa2af4c451a091ac1d)  
**pr**         : [38761](https://github.com/envoyproxy/envoy/pull/38761)  
**description**:  
Added ``PATH`` support for substitution formatter. See [access]() for more details.   
 
---

**category**   : new_features  
**area**       : http  
**summary**    : Make the limit on HTTP/2 metadata that can be handled configurable (#37372)  
**commit**     : [98d153be301c16d8329074e31d04b5ac55d268dc](https://github.com/envoyproxy/envoy/commit/98d153be301c16d8329074e31d04b5ac55d268dc)  
**pr**         : [37372](https://github.com/envoyproxy/envoy/pull/37372)  
**description**:  
Added [max_metadata_size](/docs/envoy/latest/api-v3/config/core/v3/protocol.proto#envoy-v3-api-field-config-core-v3-http2protocoloptions-max-metadata-size) to make HTTP/2 metadata limits configurable.   
 
---

**category**   : new_features  
**area**       : tcp_proxy  
**summary**    : support backoff between retries in tcp_proxy (#37709)  
**commit**     : [7fa09db1c8cb5e99dc3808d69e7d83276aa9e240](https://github.com/envoyproxy/envoy/commit/7fa09db1c8cb5e99dc3808d69e7d83276aa9e240)  
**pr**         : [37709](https://github.com/envoyproxy/envoy/pull/37709)  
**description**:  
Added support for [backoff_options](/docs/envoy/latest/api-v3/extensions/filters/network/tcp_proxy/v3/tcp_proxy.proto#envoy-v3-api-field-extensions-filters-network-tcp-proxy-v3-tcpproxy-backoff-options) to configure the backoff strategy for TCP proxy retries.   
 
---

**category**   : new_features  
**area**       : redis  
**summary**    : [redis_proxy] Allow Multi-Key Commands in Redis Transactions (#37982)  
**commit**     : [9a643e97966555f7917b48f432e02e043054963d](https://github.com/envoyproxy/envoy/commit/9a643e97966555f7917b48f432e02e043054963d)  
**pr**         : [37982](https://github.com/envoyproxy/envoy/pull/37982)  
**description**:  
Added support for multi-key commands on transactions.   
 
---

**category**   : new_features  
**area**       : redis_proxy  
**summary**    : added custom commands to redis proxy (#38414)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [30d258635b889d7bb26765a28f510c696630db0e](https://github.com/envoyproxy/envoy/commit/30d258635b889d7bb26765a28f510c696630db0e) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38414](https://github.com/envoyproxy/envoy/pull/38414) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Added [custom_commands](/docs/envoy/latest/api-v3/extensions/filters/network/redis_proxy/v3/redis_proxy.proto#envoy-v3-api-msg-extensions-filters-network-redis-proxy-v3-redisproxy) to support configuring custom commands for Redis proxy.   
 
---

**category**   : new_features  
**area**       : dfp  
**summary**    : dfp: Disable DNS refresh on failure (#38215)  
**commit**     : [c0a1be5b5604bc963254a9f5f76bec6ed23d6a40](https://github.com/envoyproxy/envoy/commit/c0a1be5b5604bc963254a9f5f76bec6ed23d6a40)  
**pr**         : [38215](https://github.com/envoyproxy/envoy/pull/38215)  
**description**:  
Added a feature to disable DNS refresh on failure by setting [disable_dns_refresh_on_failure](/docs/envoy/latest/api-v3/extensions/common/dynamic_forward_proxy/v3/dns_cache.proto#envoy-v3-api-field-extensions-common-dynamic-forward-proxy-v3-dnscacheconfig-disable-dns-refresh-on-failure) to ``true``. By enabling this feature, the failed hosts will now be treated as a cache miss.   
 
---

**category**   : new_features  
**area**       : xds  
**summary**    : [lrs] Use rq_total to decide whether to upload a locality_stats to LRS server. (#38094)  
**summary**    : changelog: fix typos in the current changelogs (#38207)  
**commit**     : [6463b128871922ea8c4512fee9c9ab168d080ffc](https://github.com/envoyproxy/envoy/commit/6463b128871922ea8c4512fee9c9ab168d080ffc) [320d52ed524eab170d88df90190691b10e9ba757](https://github.com/envoyproxy/envoy/commit/320d52ed524eab170d88df90190691b10e9ba757)  
**pr**         : [38094](https://github.com/envoyproxy/envoy/pull/38094) [38207](https://github.com/envoyproxy/envoy/pull/38207)  
**description**:  
Reporting a locality_stats to LRS server when ``rq_issued > 0``, disable by setting runtime guard ``envoy.reloadable_features.report_load_with_rq_issued`` to ``false``.   
 
---

**category**   : new_features  
**area**       : lua  
**summary**    : lua: add explicit clear route cache support (#38486)  
**commit**     : [e51b31e376c685cdd631b2e611bcb5ac7725c21c](https://github.com/envoyproxy/envoy/commit/e51b31e376c685cdd631b2e611bcb5ac7725c21c)  
**pr**         : [38486](https://github.com/envoyproxy/envoy/pull/38486)  
**description**:  
Added support for clearing the route cache explicitly in the Lua filter. See [clearRouteCache]() for more details.   
 
---

**category**   : new_features  
**area**       : tracing  
**summary**    : tracers: add Fluentd tracer extension (#37855)  
**commit**     : [4e7d93db9cbb71f7e7e6538d75292d1d75b2f18c](https://github.com/envoyproxy/envoy/commit/4e7d93db9cbb71f7e7e6538d75292d1d75b2f18c)  
**pr**         : [37855](https://github.com/envoyproxy/envoy/pull/37855)  
**description**:  
added support for [Fluentd](/docs/envoy/latest/intro/arch_overview/observability/tracing#arch-overview-tracing) tracer to send traces in `Fluentd format <https://github.com/fluent/fluentd/wiki/Forward-Protocol-Specification-v1>`_.   
 
---

**category**   : new_features  
**area**       : local_rate_limit  
**summary**    : LocalRateLimit(HTTP): Add dynamic token bucket support (#36623)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [c32e210ca1e2668eb5cf2b2bacc36acbc7f4d4b9](https://github.com/envoyproxy/envoy/commit/c32e210ca1e2668eb5cf2b2bacc36acbc7f4d4b9) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [36623](https://github.com/envoyproxy/envoy/pull/36623) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Added support for dynamic token buckets in local rate limit filter for HTTP requests.   
 
---

**category**   : new_features  
**area**       : attributes  
**summary**    : expr: Add upstream.locality attribute to obtain upstream host locality (#38024)  
**commit**     : [c87c3e4ea6c4d564ac69f8da4de79544bdc8c0c5](https://github.com/envoyproxy/envoy/commit/c87c3e4ea6c4d564ac69f8da4de79544bdc8c0c5)  
**pr**         : [38024](https://github.com/envoyproxy/envoy/pull/38024)  
**description**:  
Added [attribute](/docs/envoy/latest/intro/arch_overview/advanced/attributes#arch-overview-attributes) ``upstream.locality`` to obtain upstream locality information.   
 
---

**category**   : new_features  
**area**       : dynamic_modules  
**summary**    : docs: adds a release note about dynamic_modules (#38334)  
**commit**     : [3f2d0c295ddbff082b6b1401b130119210812eb4](https://github.com/envoyproxy/envoy/commit/3f2d0c295ddbff082b6b1401b130119210812eb4)  
**pr**         : [38334](https://github.com/envoyproxy/envoy/pull/38334)  
**description**:  
Added the initial support for shared libraries to be loaded by Envoy at runtime. Please refer to the overview documentation for the feature [here](/docs/envoy/latest/intro/arch_overview/advanced/dynamic_modules#arch-overview-dynamic-modules).   
 
---

**category**   : new_features  
**area**       : ext_proc  
**summary**    : [ext_proc] Add extension point to run custom logic after onReceiveMessage (#37916)  
**commit**     : [71d1eb641edd13e605d40cb8a4e93299778b459c](https://github.com/envoyproxy/envoy/commit/71d1eb641edd13e605d40cb8a4e93299778b459c)  
**pr**         : [37916](https://github.com/envoyproxy/envoy/pull/37916)  
**description**:  
Added an [extension](/docs/envoy/latest/api-v3/extensions/quic/connection_id_generator/quic_lb/v3/quic_lb.proto#envoy-v3-api-msg-extensions-quic-connection-id-generator-quic-lb-v3-config) to save the [response](/docs/envoy/latest/api-v3/service/ext_proc/v3/external_processor.proto#envoy-v3-api-msg-service-ext-proc-v3-processingresponse) from the external processor to filter state.   
 
---

**category**   : new_features  
**area**       : http  
**summary**    : http: make credential injector filter a dual filter (#38398)  
**commit**     : [726958228dc292f65b5acde26162a3645a99b067](https://github.com/envoyproxy/envoy/commit/726958228dc292f65b5acde26162a3645a99b067)  
**pr**         : [38398](https://github.com/envoyproxy/envoy/pull/38398)  
**description**:  
Made the [credential]() work as an upstream filter.   
 
---

**category**   : new_features  
**area**       : adaptive concurrency  
**summary**    : Introduce based_value for minRTT and allow disabling dynamic sampling of minRTT (#38359)  
**commit**     : [3ba0e5afe2d9f5d526fe4c19532eae95b69ca61b](https://github.com/envoyproxy/envoy/commit/3ba0e5afe2d9f5d526fe4c19532eae95b69ca61b)  
**pr**         : [38359](https://github.com/envoyproxy/envoy/pull/38359)  
**description**:  
Allow fixing the minimum RTT by introducing ``fixed_value``.   
 
---

**category**   : new_features  
**area**       : lua  
**summary**    : lua: add a new clear_route_cache option support (#38514)  
**commit**     : [c923de3ecef62502ac03ce59ab4b7bf79ddd360c](https://github.com/envoyproxy/envoy/commit/c923de3ecef62502ac03ce59ab4b7bf79ddd360c)  
**pr**         : [38514](https://github.com/envoyproxy/envoy/pull/38514)  
**description**:  
Added [clear_route_cache](/docs/envoy/latest/api-v3/extensions/filters/http/lua/v3/lua.proto#envoy-v3-api-field-extensions-filters-http-lua-v3-lua-clear-route-cache) support to control the route cache clearing behavior in the Lua filter.   
 
---

**category**   : new_features  
**area**       : compressor  
**summary**    : Adding support for response codes which should not undergo compression in the Compression filter. (#38731)  
**commit**     : [c8d797430a3b1fa51d1fd2c25e338a2f1c6e7148](https://github.com/envoyproxy/envoy/commit/c8d797430a3b1fa51d1fd2c25e338a2f1c6e7148)  
**pr**         : [38731](https://github.com/envoyproxy/envoy/pull/38731)  
**description**:  
Added ([uncompressible_response_codes](/docs/envoy/latest/api-v3/extensions/filters/http/compressor/v3/compressor.proto#envoy-v3-api-field-extensions-filters-http-compressor-v3-compressor-responsedirectionconfig-uncompressible-response-codes)) to Compressor Filter which allows configuration of a list of response codes for which the compression will be skipped.   
 
---

**category**   : new_features  
**area**       : jwt_authn  
**summary**    : jwt: make max token size configurable (#38461)  
**commit**     : [e839fd40b5a340ba6605a22d330e6bcd30c9e46a](https://github.com/envoyproxy/envoy/commit/e839fd40b5a340ba6605a22d330e6bcd30c9e46a)  
**pr**         : [38461](https://github.com/envoyproxy/envoy/pull/38461)  
**description**:  
Added [jwt_max_token_size](/docs/envoy/latest/api-v3/extensions/filters/http/jwt_authn/v3/config.proto#envoy-v3-api-field-extensions-filters-http-jwt-authn-v3-jwtcacheconfig-jwt-max-token-size) to make max token size configurable.   
 
---

**category**   : new_features  
**area**       : tcp_proxy  
**summary**    : tcp_proxy: Add filter state receive_before_connect to tcp_proxy (#38189)  
**commit**     : [bcaa95fc2eb882d6a8228995fb62e71b7afd8532](https://github.com/envoyproxy/envoy/commit/bcaa95fc2eb882d6a8228995fb62e71b7afd8532)  
**pr**         : [38189](https://github.com/envoyproxy/envoy/pull/38189)  
**description**:  
added [an]() to allow filters to read from the downstream connection before TCP proxy has opened the upstream connection, by setting a filter state object for the key ``envoy.tcp_proxy.receive_before_connect``.   
 
---

**category**   : new_features  
**area**       : rate_limit  
**summary**    : ratelimit: support new filter enabled and filter enforced (#38653)  
**commit**     : [f2023ef77bdb4abaf9feef963c9a0c291f55568f](https://github.com/envoyproxy/envoy/commit/f2023ef77bdb4abaf9feef963c9a0c291f55568f)  
**pr**         : [38653](https://github.com/envoyproxy/envoy/pull/38653)  
**description**:  
Added the explict runtime switch [filter_enabled](/docs/envoy/latest/api-v3/extensions/filters/http/ratelimit/v3/rate_limit.proto#envoy-v3-api-field-extensions-filters-http-ratelimit-v3-ratelimit-filter-enabled) and [filter_enforced](/docs/envoy/latest/api-v3/extensions/filters/http/ratelimit/v3/rate_limit.proto#envoy-v3-api-field-extensions-filters-http-ratelimit-v3-ratelimit-filter-enforced) to control the filter behavior.   
 
---

**category**   : new_features  
**area**       : tcp_proxy  
**summary**    : tcp-proxy: support proxy-protocol tlvs (#38131)  
**commit**     : [7961474b4b8f341204e5e900dda7177d05e79b94](https://github.com/envoyproxy/envoy/commit/7961474b4b8f341204e5e900dda7177d05e79b94)  
**pr**         : [38131](https://github.com/envoyproxy/envoy/pull/38131)  
**description**:  
Added [proxy_protocol_tlvs](/docs/envoy/latest/api-v3/extensions/filters/network/tcp_proxy/v3/tcp_proxy.proto#envoy-v3-api-field-extensions-filters-network-tcp-proxy-v3-tcpproxy-proxy-protocol-tlvs) to the TCP proxy filter. This field allows specifying PROXY protocol TLVs to be added in the PROXY protocol state created by the TCP proxy filter. TLVs added in the PROXY protocol state will be added to the PROXY protocol v2 header sent upstream.   
 
---

**category**   : new_features  
**area**       : sockets  
**summary**    : io_uring: enable io_uring in default socket interface (#38660)  
**summary**    : io_uring: update API and docs (#38677)  
**commit**     : [bca78ff862a69dfae1415fbe75605f2c7cbc80b9](https://github.com/envoyproxy/envoy/commit/bca78ff862a69dfae1415fbe75605f2c7cbc80b9) [eb398e9e4e0e33c8d68d5b9f86db88f236fd57c4](https://github.com/envoyproxy/envoy/commit/eb398e9e4e0e33c8d68d5b9f86db88f236fd57c4)  
**pr**         : [38660](https://github.com/envoyproxy/envoy/pull/38660) [38677](https://github.com/envoyproxy/envoy/pull/38677)  
**description**:  
Added an [io_uring](/docs/envoy/latest/api-v3/extensions/network/socket_interface/v3/default_socket_interface.proto#envoy-v3-api-field-extensions-network-socket-interface-v3-defaultsocketinterface-io-uring-options) option in default socket interface to support io_uring.   
 
---

**category**   : new_features  
**area**       : golang  
**summary**    : golang: make secret manager available to golang http plugin (#38703)  
**commit**     : [2533c82d653c3da2c3f69568ab8478ce55a1051b](https://github.com/envoyproxy/envoy/commit/2533c82d653c3da2c3f69568ab8478ce55a1051b)  
**pr**         : [38703](https://github.com/envoyproxy/envoy/pull/38703)  
**description**:  
Expose generic secrets to [lua](/docs/envoy/latest/api-v3/extensions/filters/http/lua/v3/lua.proto#envoy-v3-api-msg-extensions-filters-http-lua-v3-lua) Add SecretManager interface in the go envoy sdk.   
 
---

**category**   : new_features  
**area**       : dns  
**summary**    : Upgrade c-ares library to 1.34.4 (#38559)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [c4e4f5b6be2fda10c2d03d4e7623d1920ce66977](https://github.com/envoyproxy/envoy/commit/c4e4f5b6be2fda10c2d03d4e7623d1920ce66977) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38559](https://github.com/envoyproxy/envoy/pull/38559) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Update C-ares to version 1.34.4. This upgrade exposes ``ares_reinit()`` which allows the reinitialization of C-ares channels, among several other new features, bug-fixes, etc.   
 
---

**category**   : new_features  
**area**       : golang  
**summary**    : golang: add callback method for http plugin config destruction (#38597)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [11ab50a29d9995584e1f85b5080e012276f9a9b5](https://github.com/envoyproxy/envoy/commit/11ab50a29d9995584e1f85b5080e012276f9a9b5) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38597](https://github.com/envoyproxy/envoy/pull/38597) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
added http golang filter config destroy callback. When a config gets deleted from envoy, the go plugin calls the Destroy function on the config instance. config should implement the new ``github.com/envoyproxy/envoy/contrib/golang/common/go/api.Config`` interface, implementing the Destroy function.   
 
---

**category**   : new_features  
**area**       : http3  
**summary**    : Add an option to disable QPACK for HTTP/3. (#38775)  
**commit**     : [8fedd322c3022eec51981822a3acf8e61d1821e3](https://github.com/envoyproxy/envoy/commit/8fedd322c3022eec51981822a3acf8e61d1821e3)  
**pr**         : [38775](https://github.com/envoyproxy/envoy/pull/38775)  
**description**:  
Added envoy_v3_api_field_extensions.upstreams.http.v3.Http3ProtocolOptions.disable_qpack, an experimental support for disabling QPACK compression.   
 
---

**category**   : new_features  
**area**       : cares  
**summary**    : c-ares: implement ares_reinit() to optimally handle the situation whe (#38879)  
**commit**     : [4c2d1ab93bf8ac06bbef1ebc3eb88f8e1ad9b1f1](https://github.com/envoyproxy/envoy/commit/4c2d1ab93bf8ac06bbef1ebc3eb88f8e1ad9b1f1)  
**pr**         : [38879](https://github.com/envoyproxy/envoy/pull/38879)  
**description**:  
Implemented ``ares_reinit()`` to optimally handle the situation where DNS resolver needs to be re-initialized.   
 
---

**category**   : new_features  
**area**       : cluster  
**summary**    : cluster: Add req/resp header count histograms (#38681)  
**commit**     : [627d4fb80d16a840063ae6e9c67f567d07a005c4](https://github.com/envoyproxy/envoy/commit/627d4fb80d16a840063ae6e9c67f567d07a005c4)  
**pr**         : [38681](https://github.com/envoyproxy/envoy/pull/38681)  
**description**:  
Added ``upstream_rq_headers_count`` and ``upstream_rs_headers_count`` histograms to [cluster](). These will be added when the [request]() are tracked.   
 
---

**category**   : new_features  
**area**       : matcher  
**summary**    : network filter: add a match delegate network filter to support ExtensionWithMatcher (#39012)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [36aedabc94d37f6e3b5b37257a8673aa5bf4cc2e](https://github.com/envoyproxy/envoy/commit/36aedabc94d37f6e3b5b37257a8673aa5bf4cc2e) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [39012](https://github.com/envoyproxy/envoy/pull/39012) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Added the integration between [ExtensionWithMatcher](/docs/envoy/latest/api-v3/extensions/common/matching/v3/extension_matcher.proto#envoy-v3-api-msg-extensions-common-matching-v3-extensionwithmatcher) and network filters, and only ``SkipFilter`` is supported.   
 
---

**category**   : new_features  
**area**       : oauth2  
**summary**    : Add stat_prefix to oauth2 and jwt_authn filters (#38977)  
**commit**     : [997cab3c18e51cee402a46d0bd2f20e1b96a01d6](https://github.com/envoyproxy/envoy/commit/997cab3c18e51cee402a46d0bd2f20e1b96a01d6)  
**pr**         : [38977](https://github.com/envoyproxy/envoy/pull/38977)  
**description**:  
Added field [stat_prefix](/docs/envoy/latest/api-v3/extensions/filters/http/oauth2/v3/oauth.proto#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2config-stat-prefix) to allow differentiating between different oauth2 filters in the same filter chain.   
 
---

**category**   : new_features  
**area**       : jwt_authn  
**summary**    : Add stat_prefix to oauth2 and jwt_authn filters (#38977)  
**commit**     : [997cab3c18e51cee402a46d0bd2f20e1b96a01d6](https://github.com/envoyproxy/envoy/commit/997cab3c18e51cee402a46d0bd2f20e1b96a01d6)  
**pr**         : [38977](https://github.com/envoyproxy/envoy/pull/38977)  
**description**:  
Added field [stat_prefix](/docs/envoy/latest/api-v3/extensions/filters/http/oauth2/v3/oauth.proto#envoy-v3-api-field-extensions-filters-http-oauth2-v3-oauth2config-stat-prefix) to allow differentiating between different jwt_authn filters in the same filter chain.   
 
---

**category**   : new_features  
**area**       : connection  
**summary**    : network: add close through network filter_manager support to check filter's close status (#38778)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [079e652978855c2d518bbbd7c66cfd57a59fa19a](https://github.com/envoyproxy/envoy/commit/079e652978855c2d518bbbd7c66cfd57a59fa19a) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [38778](https://github.com/envoyproxy/envoy/pull/38778) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Added the close through the network filter manager support that allows a network filter to disable the close of connection. This behavior is controlled by runtime guard ``envoy.reloadable_features.connection_close_through_filter_manager``, and default is ``false``.   
 
---

**category**   : new_features  
**area**       : dns  
**summary**    : c-ares: bump up the version from v1.34.4 => v1.34.5 to address CVE-2025-31498 (#39057)  
**summary**    : changelog: Release cleanups (#39108)  
**commit**     : [ca3df90fea6caa2a570ec9b57b3e835c8d7103f5](https://github.com/envoyproxy/envoy/commit/ca3df90fea6caa2a570ec9b57b3e835c8d7103f5) [5b88f941da971de57f29286103c20770811ec67f](https://github.com/envoyproxy/envoy/commit/5b88f941da971de57f29286103c20770811ec67f)  
**pr**         : [39057](https://github.com/envoyproxy/envoy/pull/39057) [39108](https://github.com/envoyproxy/envoy/pull/39108)  
**description**:  
Update C-ares to version 1.34.5 to address **CVE-2025-31498**.   
 
---

